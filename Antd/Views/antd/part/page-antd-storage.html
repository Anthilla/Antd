<div class="border-2-anthilla-gray" style="width: 100%; min-height: 100px; margin-bottom: 15px; padding: 15px;">
    <legend id="Storage">Storage</legend>
    <legend>Disks</legend>
    <table class="table">
        <thead>
            <tr>
                <td colspan="2">Name </td>
                <td>Size </td>
                <td>Readonly </td>
                <td>Type </td>
                <td>Mountpoint </td>
            </tr>
        </thead>
        <tbody>
            @Each.DisksList
            <tr data-role="show-disk-details-@Current.Ro" data-guid="@Current.Guid" data-name="@Current.Name">
                <td colspan="2">@Current.Name</td>
                <td>@Current.Size </td>
                <td>@Current.Ro </td>
                <td>@Current.Type </td>
                <td>@Current.Mountpoint </td>
            </tr>
            @Partial['_partial_storage/part-disk-partition', Current.Partitions];
            <tr data-row="@Current.Guid" style="display: none;">
                <td colspan="10" data-role="CmdContainer" style="padding-left: 50px;">
                    <p>Create Pool from this disk</p>
                    <input type="text" data="$pool_name" style="width: 40%;" />
                    <input type="hidden" data="$disk" value="/dev/@Current.Name" style="width: 40%;" />
                    <input type="button" data-role="CmdLaunch" data-name="zpool-create" data-par="$pool_name,$disk" value="Create" class="float-right" />
                </td>
            </tr>
            <tr data-row="@Current.Guid" style="display: none;">
                <td colspan="10" style="padding-left: 50px;">
                    <div data-role="CmdContainer" style="display: inline-block; margin-left: 20px;">
                        <input type="hidden" data="$disk_device" value="@Current.Name" style="width: 60%;" />
                        <span data="CmdGet" data-role="CmdResult" data-name="fdisk-print" data-par="$disk_device" style="border-width: 0; max-width: 60%; min-width: 60%; height: auto;"></span>
                    </div>
                    <br>
                    <p>Partition Table</p>
                    <br>
                    <p data-partitiontable="@Current.Guid"></p>
                    <button data-role="CreatePartitionTable" data-name="@Current.Name" data-button="@Current.Guid" style="width: 250px;" class="bg-anthilla-green upcase">Create Partition Table</button>
                    <p style="display: inline-block; margin: auto 15px;">of type</p>
                    <select>
                        <option disabled="disabled" selected="selected">Select a partition type</option>
                        <option value="bsd">bsd</option>
                        <option value="loop">loop</option>
                        <option value="gpt">gpt</option>
                        <option value="mac">mac</option>
                        <option value="msdos">msdos</option>
                        <option value="pc98">pc98</option>
                        <option value="sun">sun</option>
                    </select>
                </td>
            </tr>
            <tr data-row="@Current.Guid" style="display: none;">
                <td colspan="10" data-role="CmdContainer" style="padding-left: 50px; border-bottom: 5px solid #535353 !important;">
                    <label>Create Disk Partition</label>
                    <input type="hidden" data="$disk_device" value="/dev/@Current.Name" style="width: 80%;" />
                    <p>Partition Number</p>
                    <input type="text" data="$part_number" style="width: 80%;" />
                    <br />
                    <p>Partition First Sector</p>
                    <input type="text" data="$part_first_sector" style="width: 80%;" />
                    <br />
                    <p>Partition Size</p>
                    <input type="text" data="$part_size" style="width: 80%;" />
                    <br />
                    <p>Partition Name</p>
                    <input type="text" data="$name" style="width: 80%;" />
                    <br />
                    <input type="button" data-role="CmdLaunch" data-name="fdisk-set-partition" data-par="$pool_name,$disk" value="Create" class="float-right" />
                </td>
            </tr>
            @EndEach
        </tbody>
    </table>
    <legend>Zpool</legend>
    <table class="table">
        <thead>
            <tr>
                <td>Name </td>
                <td>Size </td>
                <td>Alloc </td>
                <td>Free </td>
                <td>Expandsz </td>
                <td>Frag </td>
                <td>Cap </td>
                <td>Dedup </td>
                <td>Health </td>
                <td>Altroot </td>
            </tr>
        </thead>
        <tbody>
            @Each.ZpoolList
            <tr data-role="show-details" data-guid="@Current.Guid">
                <td>@Current.Name</td>
                <td>@Current.Size </td>
                <td>@Current.Alloc </td>
                <td>@Current.Free </td>
                <td>@Current.Expandsz </td>
                <td>@Current.Frag </td>
                <td>@Current.Cap </td>
                <td>@Current.Dedup </td>
                <td>@Current.Health </td>
                <td>@Current.Altroot </td>
            </tr>
            <tr data-row="@Current.Guid" style="display: none;">
                <td colspan="10" style="padding-left: 50px;">
                    <div style="width: 100%; height: 260px; padding: 10px; font-size: 12px;" class="bg-anthilla-gray fg-white border-anthilla-green" data="ReplaceNewLine">@Current.Status</div>
                </td>
            </tr>
            <tr data-row="@Current.Guid" style="display: none;">
                <td colspan="10" style="padding-left: 50px; border-bottom: 5px solid #535353 !important;">
                    <p>Snapshot Scheduling</p>
                    <br>
                    @IfNot.HasSnapshot
                    <p>There's no scheduled snaphot for this pool</p>
                    <button data-role="EnablePoolSnap" data-pool="@Current.Name" style="width: 150px;" class="bg-anthilla-green upcase">Enable</button>
                    <p style="display: inline-block; margin: auto 15px;">every</p>
                    <select data-guid="@Current.Guid" data-role="select-hour">
                        <option value="*-*-* *:0/10:00" selected>10 minutes</option>
                        <option value="*-*-* *:0/30:00">30 minutes</option>
                        <option value="hourly">1 hour</option>
                        <option value="*-*-* 0/4:00:00">4 hours</option>
                        <option value="*-*-* 0/12:00:00">12 hours</option>
                        <option value="daily">24 hours</option>
                        <option value="*-*-* *:0/1:00">1 minute</option>
                    </select>
                    @EndIf

                    @If.HasSnapshot
                    <button data-role="DisablePoolSnap" data-id="@Current.SnapshotGuid" class="bg-anthilla-orange upcase" style="width: 150px;">Disable</button>
                    <p style="display: inline-block; margin: auto 15px;">Snapshot scheduled every @Current.Snapshot hour(s)</p>
                    @EndIf
                    <br>
                    <br>
                </td>
            </tr>
            @EndEach
        </tbody>
    </table>
    <legend>Zfs</legend>
    <table class="table">
        <thead>
            <tr>
                <td>Pool</td>
                <td>Name</td>
                <td>Used</td>
                <td>Available</td>
                <td>Refer</td>
                <td>Mountpoint</td>
            </tr>
        </thead>
        <tbody>
            @Each.ZfsList
            <tr data-role="show-details" data-guid="@Current.Guid">
                <td style="text-transform: uppercase; color: #d8d8d8 !important">@Current.Pool</td>
                <td>@Current.Name</td>
                <td>@Current.Used</td>
                <td>@Current.Available</td>
                <td>@Current.Refer</td>
                <td>@Current.Mountpoint</td>
            </tr>
            <tr data-row="@Current.Guid" style="display: none;">
                <td colspan="6" style="padding-left: 50px; border-bottom: 5px solid #535353 !important;">
                    <p>Snapshot Scheduling</p>

                    @If.HasSnapshot
                    <p>Snapshot scheduled every @Current.Snapshot hour(s)</p>
                    @EndIf
                </td>
            </tr>
            @EndEach
        </tbody>
    </table>
    <legend>Zfs - Snapshot</legend>
    <table class="table">
        <thead>
            <tr>
                <td>Name</td>
                <td>Used</td>
                <td>Available</td>
                <td>Refer</td>
                <td>Mountpoint</td>
            </tr>
        </thead>
        <tbody>
            @Each.ZfsSnap
            <tr data-role="show-details" data-guid="@Current.Guid">
                <td>@Current.Name</td>
                <td>@Current.Used</td>
                <td>@Current.Available</td>
                <td>@Current.Refer</td>
                <td>@Current.Mountpoint</td>
            </tr>
            <tr data-row="@Current.Guid" style="display: none;">
                <td colspan="5" style="padding-left: 50px; border-bottom: 5px solid #535353 !important;">
                    <p>Manage Snapshot</p>
                </td>
            </tr>
            @EndEach
        </tbody>
    </table>
    <legend>Zpool - History</legend>
    <table class="table">
        <thead>
            <tr>
                <td></td>
            </tr>
        </thead>
        <tbody>
            @Each.ZpoolHistory
            <tr>
                <td style="font-size: 11px !important; font-weight: normal !important;" class="fg-white">@Current
                </td>
            </tr>
            @EndEach
        </tbody>
    </table>
</div>
